<!DOCTYPE html>
<!--
Copyright (c) 2020 Milan Raj
SPDX-License-Identifier: MIT
-->
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Exorbitant example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../dist/exorbitant.umd.js"></script>
    <script>
        (async function () {
            const exorbitant = await window.exorbitantHelpers.createExorbitant();
            const symbolTable = window.exorbitantHelpers.Exorbitant.prototype.createSymbolTable.call(exorbitant);
            const expression = window.exorbitantHelpers.Exorbitant.prototype.createExpression.call(exorbitant);
            const parser = window.exorbitantHelpers.Exorbitant.prototype.createParser.call(exorbitant);

            window.exorbitantHelpers.Expression.prototype.registerSymbolTable.call(expression, symbolTable);
            var compileRet = window.exorbitantHelpers.Parser.prototype.compile.call(parser, `var a[15]:={1}; var b[8]; fir1(7,0.35,b); var c[22]; conv(a,b,c); print(c);`, expression);
            console.log(`compiled?: ${compileRet}`);
            var ret = window.exorbitantHelpers.Expression.prototype.value.call(expression);
            console.log(`ret: ${ret}`);
        }());
    </script>
</head>
<body>
    
</body>
</html>
